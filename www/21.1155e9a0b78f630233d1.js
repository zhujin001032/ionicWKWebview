(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{pZl2:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),a=t("pMnS"),b=t("prAe"),i=t("Ip0R"),o=t("oBZk"),c=t("ZZ/e"),s=t("c2hM"),r=t("8YtB"),g=t("uiMJ"),p=t("CooU"),f=function(){function n(n,l,t,u,e,a,b,i){this.http=n,this.route=l,this.router=t,this.appGlobalService=u,this.modalController=e,this.mapBaiduService=a,this.eventService=b,this.ngZone=i,this.flag="tab1",this.defaultIndex=-111,this.positionInfo={}}return n.prototype.ngOnInit=function(){var n=this;this.mapBaiduService.refreshWatchPosition(function(){n.ngZone.runOutsideAngular(function(){n.ngZone.run(function(){n.releaseApp()})})})},n.prototype.preViewApp=function(){var n=this;if(this.route.queryParams.subscribe(function(l){n.sessionId=l.sessionId,n.sessionId||(n.sessionId=localStorage.getItem("sessionId")),localStorage.setItem("sessionId",n.sessionId)}),this.sessionId&&"null"!==this.sessionId){var l={sessionId:this.sessionId,cityId:this.positionInfo.code};console.log("getting app tab data \n"),this.http.post("application/home/",l,function(l){l?n.getPageData(l):n.appGlobalService.showToast(l.message,2e3,"middle")})}else console.log("\u65e0\u6cd5\u83b7\u53d6sessionId")},n.prototype.debugApp=function(n){var l=this;this.http.get("application/debug/"+n,function(n){l.sessionId=n.sessionId,localStorage.setItem("sessionId",l.sessionId),console.log(l.sessionId),l.http.get("application/home/"+l.sessionId,function(n){l.getPageData(n)})})},n.prototype.releaseApp=function(){var n=this;this.http.get("application/openApp/xw",function(l){n.sessionId=l.sessionId,localStorage.setItem("sessionId",n.sessionId),console.log(n.sessionId),n.http.get("application/home/"+n.sessionId,function(l){n.getPageData(l)})})},n.prototype.getPageData=function(n){var l=JSON.parse(n.script);if(this.appNavigation="{}"!==JSON.stringify(l.navgtion)&&l.navgtion,console.log("got app tab data \n",this.appNavigation),void 0!==this.appNavigation){for(var t=0;t<this.appNavigation.length;t++)if(this.appNavigation[t].check){console.log("defaul index ===== ",t,this.appNavigation[t].label),this.defaultIndex=t,this.getDefaultPageData(this.defaultIndex+1,+this.appNavigation[this.defaultIndex].target);break}-111===this.defaultIndex&&(this.defaultIndex=0,this.getDefaultPageData(this.defaultIndex+1,+this.appNavigation[this.defaultIndex].target))}},n.prototype.getDefaultPageData=function(n,l){var t="home/tab"+n;console.log("===================================default path",t),console.log("===========================init app city:\n",localStorage.getItem("position")),localStorage.setItem("tabPath",t),this.router.navigate([t],{queryParams:{viewId:l}})},n.prototype.change=function(n){if(this.flag=n.detail.tab,console.log("====================================change tab",this.flag),this.flag){var l=+this.flag.substring(this.flag.length-1)-1;if(l===this.defaultIndex)return void(this.defaultIndex=-111);this.appNavigation&&this.appNavigation[l].ifuser&&this.getDefaultPageData(l+1,+this.appNavigation[l].target)}},n.prototype.setBadgeForKeyValue=function(n,l){var t=+n.substring(n.length-1)-1,u=this.appNavigation[t],e=+(u.badge-l);u.badge=e,e<=0&&(u.badge=0)},n.prototype.firstBadgeForKeyValue=function(n,l){var t=+n.substring(n.length-1)-1,u=this.appNavigation[t];u.badge=l,l<=0&&(u.badge=0)},n.prototype.ngAfterViewInit=function(){var n=this;this.eventService.eventEmit.on("badgeForTab",function(l){var t="";l.tab1>=0&&n.setBadgeForKeyValue(t="tab1",l[t]),l.tab2>=0&&n.setBadgeForKeyValue(t="tab2",l[t]),l.tab3>=0&&n.setBadgeForKeyValue(t="tab3",l[t]),l.tab4>=0&&n.setBadgeForKeyValue(t="tab4",l[t]),l.tab5>=0&&n.setBadgeForKeyValue(t="tab5",l[t])}),this.eventService.eventEmit.on("firstBadgeForTab",function(l){var t="";l.tab1>=0&&n.firstBadgeForKeyValue(t="tab1",l[t]),l.tab2>=0&&n.firstBadgeForKeyValue(t="tab2",l[t]),l.tab3>=0&&n.firstBadgeForKeyValue(t="tab3",l[t]),l.tab4>=0&&n.firstBadgeForKeyValue(t="tab4",l[t]),l.tab5>=0&&n.firstBadgeForKeyValue(t="tab5",l[t])})},n}(),d=t("ZYCi"),h=u.ob({encapsulation:0,styles:[["#myTabBar[_ngcontent-%COMP%]{background:#fff;box-shadow:0 -1px 6px 0 rgba(133,136,148,.1);border-top:0}.img-icon[_ngcontent-%COMP%]{width:1.375rem;height:1.375rem}.tab-selected[_ngcontent-%COMP%]{--color-selected:#FF6314}ion-label[_ngcontent-%COMP%]{font-size:.625rem;font-weight:400}ion-tab-button[_ngcontent-%COMP%]{--color-selected:#B6B7BF;--color:#B6B7BF}.badge[_ngcontent-%COMP%]{--background:#FF6314;left:calc(50% + .125rem);top:.05rem;border-radius:.8rem;border:.13rem solid #fff;min-width:1.45rem}"]],data:{}});function y(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.normalIco,""))})}function m(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.selectedIco,""))})}function I(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,y)),u.pb(2,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,m)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"tab1"!=t.flag),n(l,4,0,"tab1"==t.flag)},null)}function v(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.normalIco,""))})}function x(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.selectedIco,""))})}function F(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,v)),u.pb(2,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,x)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"tab2"!=t.flag),n(l,4,0,"tab2"==t.flag)},null)}function q(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.normalIco,""))})}function B(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.selectedIco,""))})}function K(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,q)),u.pb(2,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,B)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"tab3"!=t.flag),n(l,4,0,"tab3"==t.flag)},null)}function O(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.normalIco,""))})}function P(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.selectedIco,""))})}function j(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,O)),u.pb(2,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,P)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"tab4"!=t.flag),n(l,4,0,"tab4"==t.flag)},null)}function C(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.normalIco,""))})}function L(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,0,"img",[["class","img-icon"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,u.sb(1,"../../assets/icon/",l.parent.parent.context.$implicit.selectedIco,""))})}function M(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,C)),u.pb(2,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,L)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,"tab5"!=t.flag),n(l,4,0,"tab5"==t.flag)},null)}function N(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),u.qb(1,0,null,null,2,"ion-badge",[["class","badge"]],null,null,null,o.N,o.d)),u.pb(2,49152,null,0,c.i,[u.h,u.k,u.z],null,null),(n()(),u.Ib(-1,0,["99+"]))],null,null)}function S(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),u.qb(1,0,null,null,2,"ion-badge",[["class","badge"]],[[8,"id",0]],null,null,o.N,o.d)),u.pb(2,49152,null,0,c.i,[u.h,u.k,u.z],null,null),(n()(),u.Ib(3,0,["",""]))],null,function(n,l){n(l,1,0,u.sb(1,"badgeForTab",l.parent.context.index+1,"")),n(l,3,0,l.parent.context.$implicit.badge)})}function k(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),u.qb(1,0,null,null,18,"ion-tab-button",[],null,null,null,o.ob,o.E)),u.pb(2,49152,null,0,c.tb,[u.h,u.k,u.z],{tab:[0,"tab"]},null),(n()(),u.hb(16777216,null,0,1,null,I)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,F)),u.pb(6,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,K)),u.pb(8,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,j)),u.pb(10,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,M)),u.pb(12,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(13,0,null,0,2,"ion-label",[],null,null,null,o.eb,o.u)),u.pb(14,49152,null,0,c.M,[u.h,u.k,u.z],null,null),(n()(),u.Ib(15,0,["",""])),(n()(),u.hb(16777216,null,0,1,null,N)),u.pb(17,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,S)),u.pb(19,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,u.sb(1,"tab",l.context.index+1,"")),n(l,4,0,0===l.context.index),n(l,6,0,1===l.context.index),n(l,8,0,2===l.context.index),n(l,10,0,3===l.context.index),n(l,12,0,4===l.context.index),n(l,17,0,l.context.$implicit.badge&&l.context.$implicit.badge>99),n(l,19,0,l.context.$implicit.badge&&l.context.$implicit.badge>0&&l.context.$implicit.badge<=99)},function(n,l){n(l,15,0,l.context.$implicit.label)})}function V(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"ion-tabs",[["class","tab-bar"]],null,[[null,"ionTabButtonClick"]],function(n,l,t){var e=!0;return"ionTabButtonClick"===l&&(e=!1!==u.Ab(n,1).select(t.detail.tab)&&e),e},o.pb,o.F)),u.pb(1,49152,null,1,c.ub,[c.Gb],null,null),u.Gb(335544320,1,{tabBar:0}),(n()(),u.qb(3,0,null,1,3,"ion-tab-bar",[["id","myTabBar"],["slot","bottom"]],null,[[null,"ionTabBarChanged"]],function(n,l,t){var u=!0;return"ionTabBarChanged"===l&&(u=!1!==n.component.change(t)&&u),u},o.nb,o.D)),u.pb(4,49152,[[1,4],["myTabBar",4]],0,c.sb,[u.h,u.k,u.z],null,null),(n()(),u.hb(16777216,null,0,1,null,k)),u.pb(6,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,6,0,l.component.appNavigation)},null)}function w(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"app-tabs",[],null,null,null,V,h)),u.pb(1,4308992,null,0,f,[g.a,d.a,d.n,s.a,c.Fb,p.a,r.a,u.z],null,null)],function(n,l){n(l,1,0)},null)}var D=u.mb("app-tabs",f,w,{},{},[]),T=t("lcJZ"),$=t("gIcY"),z=t("M2Lx"),A=t("PqVL"),Z=t("eDkP"),J=t("Fzqc"),G=t("4c35"),_=t("dWZg"),E=t("qAlS"),R=t("CVdl"),Y=t("9wF3"),H=t("+gJH"),Q=function(){return function(){}}();t.d(l,"TabsPageModuleNgFactory",function(){return W});var W=u.nb(e,[],function(n){return u.xb([u.yb(512,u.j,u.bb,[[8,[a.a,b.a,b.k,b.c,b.f,b.h,b.d,b.g,D,T.a]],[3,u.j],u.x]),u.yb(4608,i.l,i.k,[u.u,[2,i.w]]),u.yb(4608,c.c,c.c,[u.z,u.g]),u.yb(4608,c.Fb,c.Fb,[c.c,u.j,u.q]),u.yb(4608,c.Lb,c.Lb,[c.c,u.j,u.q]),u.yb(4608,$.A,$.A,[]),u.yb(4608,$.e,$.e,[]),u.yb(4608,z.c,z.c,[]),u.yb(5120,A.mb,A.Nc,[[3,A.mb],A.hb]),u.yb(4608,Z.a,Z.a,[Z.g,Z.c,u.j,Z.f,Z.d,u.q,u.z,i.c,J.b,[2,i.f]]),u.yb(5120,Z.h,Z.i,[Z.a]),u.yb(4608,A.Pc,A.Pc,[Z.a]),u.yb(4608,A.g,A.g,[Z.a]),u.yb(4608,A.Ic,A.Ic,[u.g,u.i,u.j,u.z]),u.yb(4608,A.k,A.k,[]),u.yb(4608,A.sb,A.sb,[Z.a]),u.yb(4608,A.P,A.P,[]),u.yb(4608,A.Fb,A.Fb,[]),u.yb(4608,A.Gb,A.Gb,[Z.a]),u.yb(1073742336,i.b,i.b,[]),u.yb(1073742336,c.Cb,c.Cb,[]),u.yb(1073742336,$.x,$.x,[]),u.yb(1073742336,$.j,$.j,[]),u.yb(1073742336,d.o,d.o,[[2,d.u],[2,d.n]]),u.yb(1073742336,$.u,$.u,[]),u.yb(1073742336,A.i,A.i,[]),u.yb(1073742336,A.D,A.D,[]),u.yb(1073742336,z.d,z.d,[]),u.yb(1073742336,A.Bc,A.Bc,[]),u.yb(1073742336,A.m,A.m,[]),u.yb(1073742336,A.xc,A.xc,[]),u.yb(1073742336,A.cb,A.cb,[]),u.yb(1073742336,A.Mc,A.Mc,[]),u.yb(1073742336,A.Kc,A.Kc,[]),u.yb(1073742336,A.kb,A.kb,[]),u.yb(1073742336,A.p,A.p,[]),u.yb(1073742336,A.uc,A.uc,[]),u.yb(1073742336,A.lb,A.lb,[]),u.yb(1073742336,A.cc,A.cc,[]),u.yb(1073742336,A.nc,A.nc,[]),u.yb(1073742336,A.pc,A.pc,[]),u.yb(1073742336,A.J,A.J,[]),u.yb(1073742336,A.Pb,A.Pb,[]),u.yb(1073742336,A.ec,A.ec,[]),u.yb(1073742336,A.F,A.F,[]),u.yb(1073742336,J.a,J.a,[]),u.yb(1073742336,G.c,G.c,[]),u.yb(1073742336,_.b,_.b,[]),u.yb(1073742336,E.b,E.b,[]),u.yb(1073742336,Z.e,Z.e,[]),u.yb(1073742336,A.xb,A.xb,[]),u.yb(1073742336,A.f,A.f,[]),u.yb(1073742336,A.c,A.c,[]),u.yb(1073742336,A.zb,A.zb,[]),u.yb(1073742336,A.Hc,A.Hc,[]),u.yb(1073742336,A.Vb,A.Vb,[]),u.yb(1073742336,A.gb,A.gb,[]),u.yb(1073742336,A.qb,A.qb,[]),u.yb(1073742336,A.Nb,A.Nb,[]),u.yb(1073742336,A.Mb,A.Mb,[]),u.yb(1073742336,A.vb,A.vb,[]),u.yb(1073742336,A.O,A.O,[]),u.yb(1073742336,A.R,A.R,[]),u.yb(1073742336,A.u,A.u,[]),u.yb(1073742336,A.Y,A.Y,[]),u.yb(1073742336,A.Qc,A.Qc,[]),u.yb(1073742336,A.ab,A.ab,[]),u.yb(1073742336,A.ic,A.ic,[]),u.yb(1073742336,A.Xb,A.Xb,[]),u.yb(1073742336,A.Fc,A.Fc,[]),u.yb(1073742336,A.Eb,A.Eb,[]),u.yb(1073742336,A.Ib,A.Ib,[]),u.yb(1073742336,A.eb,A.eb,[]),u.yb(1073742336,A.Zb,A.Zb,[]),u.yb(1073742336,A.Bb,A.Bb,[]),u.yb(1073742336,A.Dc,A.Dc,[]),u.yb(1073742336,A.ob,A.ob,[]),u.yb(1073742336,A.V,A.V,[]),u.yb(1073742336,A.Rb,A.Rb,[]),u.yb(1073742336,A.sc,A.sc,[]),u.yb(1073742336,A.wb,A.wb,[]),u.yb(1073742336,R.a,R.a,[]),u.yb(1073742336,Y.a,Y.a,[]),u.yb(1073742336,Q,Q,[]),u.yb(1073742336,e,e,[]),u.yb(256,A.hb,void 0,[]),u.yb(1024,d.l,function(){return[[{path:"home",component:f,children:[{path:"tab1",children:[{path:"",loadChildren:"../tab1/tab1.module#Tab1PageModule"},{path:"navSeven",component:H.a}]},{path:"tab2",children:[{path:"",loadChildren:"../tab2/tab2.module#Tab2PageModule"},{path:"navSeven",component:H.a}]},{path:"tab3",children:[{path:"",loadChildren:"../tab3/tab3.module#Tab3PageModule"},{path:"navSeven",component:H.a}]},{path:"tab4",children:[{path:"",loadChildren:"../tab4/tab4.module#Tab4PageModule"},{path:"navSeven",component:H.a}]},{path:"tab5",children:[{path:"",loadChildren:"../tab5/tab5.module#Tab5PageModule"},{path:"navSeven",component:H.a}]}]},{path:"",redirectTo:"/home",pathMatch:"full"}]]},[])])})}}]);